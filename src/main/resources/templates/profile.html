<!DOCTYPE html>
<html lang="ru"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
    <meta charset="UTF-8">
    <title th:text="${title} ?: 'Профиль'">Профиль</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
          rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/app.css}">

</head>

<body>

<nav th:replace="~{fragments/navbar :: main-navbar}"></nav>

<div class="container mt-4">

    <h1 class="mb-4">Профиль пользователя</h1>

    <div class="row">
        <div class="col-md-6">

            <div class="card shadow-sm">
                <div class="card-body">

                    <h5 class="card-title mb-3" th:text="${user.fullName}">ФИО</h5>

                    <dl class="row mb-0">
                        <dt class="col-sm-4">Логин</dt>
                        <dd class="col-sm-8" th:text="${user.username}">username</dd>

                        <dt class="col-sm-4">Email</dt>
                        <dd class="col-sm-8" th:text="${user.email}">user@example.com</dd>

                        <dt class="col-sm-4">Роли</dt>
                        <dd class="col-sm-8">
    <span th:each="r : ${user.roles}"
          th:class="${'badge badge-role me-1 ' + (
                        #strings.contains(r.name, 'ADMIN')  ? 'badge-role-admin' :
                        #strings.contains(r.name, 'TEACHER')? 'badge-role-teacher' :
                        #strings.contains(r.name, 'STUDENT')? 'badge-role-student' : ''
                      )}"
          th:text="${#strings.substring(r.name, 5)}">
        ROLE
    </span>
                        </dd>


                    </dl>

                </div>
            </div>

        </div>

        <div class="col-md-6">
            <div class="alert alert-info">
                <h5 class="alert-heading">Информация</h5>
                <p class="mb-1">
                    Данный профиль отображает учётную запись в системе
                    информационной системы художественной школы.
                </p>
                <p class="mb-0">
                    В дальнейшем здесь можно реализовать изменения пароля,
                    контактных данных и привязку к сущностям «Преподаватель» / «Студент».
                </p>
            </div>
        </div>
    </div>

</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
